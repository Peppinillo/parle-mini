<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="theme-color" content="#0b1020" />
<link rel="manifest" href="manifest.webmanifest" />
<title>Parle+ Mini</title>
<style>
  :root{--bg:#0b1020;--card:#141a2e;--line:#1e2746;--text:#e8eefc;--muted:#9fb3d9;--accent:#7aa2ff}
  *{box-sizing:border-box} body{margin:0;font-family:system-ui,Segoe UI,Inter,Roboto,Arial,sans-serif;background:linear-gradient(180deg,#0b1020,#10152a);color:var(--text)}
  .wrap{max-width:840px;margin:32px auto;padding:0 16px}
  h1{font-size:20px;margin:0 0 8px} p{margin:0 0 14px;color:var(--muted)}
  .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:14px 14px 12px;box-shadow:0 8px 22px rgba(0,0,0,.25);margin-bottom:14px}
  label{font-size:12px;color:var(--muted)} select,button,textarea,input[type='number'],input[type='range']{border-radius:12px;border:1px solid var(--line);background:#0e1430;color:var(--text)}
  select,button{padding:10px 12px;font-weight:600} button{cursor:pointer}
  button.primary{background:linear-gradient(180deg,#3f67ff,#2a4de7);border-color:#3a56d9}
  button.ghost{background:transparent}
  .prompt{font-size:18px;line-height:1.4;border:1px dashed var(--line);border-radius:14px;padding:12px;background:#0b1226;margin:8px 0}
  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  textarea{width:100%;min-height:130px;padding:12px;resize:vertical}
  .hint{color:var(--muted);font-size:12px}
  .coach{padding:10px;border-radius:12px;background:#0b1226;border:1px solid #25305a}
  .coach b{color:#cfe0ff}
  .q{margin:6px 0 0 0}
  .spacer{flex:1}
</style>
</head>
<body>
<div class="wrap">
  <h1>Parle+ Mini</h1>
  <p>Pratique orale du français avec un <b>mode Coach</b> léger. Appuyez sur Démarrer une fois, parlez librement ; le coach relance automatiquement après un court silence.</p>

  <div class="card">
    <div class="row">
      <label>Niveau</label>
      <select id="level">
        <option value="any">Tous</option>
        <option>A1</option><option>A2</option><option>B1</option><option>B2</option><option>C1</option>
      </select>
      <label>Thème</label>
      <select id="category">
        <option value="any">Tous</option>
        <option>At home</option><option>Supermarket</option><option>Travel</option>
        <option>Work</option><option>Small talk</option>
      </select>
      <button id="new" class="primary">Nouveau sujet (R)</button>
      <button id="say" class="ghost">🔊 Lire</button>
      <span class="hint">Astuce : R = nouveau sujet</span>
    </div>
    <div id="prompt" class="prompt">Cliquez sur « Nouveau sujet » pour commencer.</div>
  </div>

  <div class="card">
    <div class="row">
      <button id="start" class="primary">Démarrer (Espace)</button>
      <button id="stop" class="ghost" disabled>Arrêter</button>
      <span class="hint" id="status">Reconnaissance vocale : en veille</span>
      <span class="hint" id="timer">00:00</span>
      <div class="spacer"></div>
      <label class="hint">Vitesse de la voix</label>
      <input type="range" id="rate" min="0.7" max="1.3" step="0.05" value="1.0" style="width:160px">
      <button id="repeat" class="ghost">↻ Répéter</button>
      <button id="slow" class="ghost">🐢 Répéter lentement</button>
    </div>
    <label style="display:block;margin-top:8px">Transcription en direct (fr-FR)</label>
    <textarea id="text" placeholder="Votre parole s’affiche ici…"></textarea>
    <p class="hint">Commandes vocales : « Répète », « Plus lentement », « Parle plus doucement ».</p>
  </div>

  <div class="card">
    <div class="row">
      <label><input type="checkbox" id="coachOn" checked> Mode Coach</label>
      <label>Relance après silence (s)</label>
      <input type="number" id="silence" min="3" max="15" step="1" value="5" style="width:64px">
      <span class="hint">Le coach posera une nouvelle question ~<b>5 s</b> après votre arrêt de parole.</span>
    </div>
    <div id="coach" class="coach">
      <div><b>Assistant :</b> <span id="coachText" class="q">J’attends votre réponse…</span></div>
    </div>
  </div>

  <p class="hint">Meilleur support : Chrome/Edge (ordinateur ou Android). Sur Firefox, la reconnaissance vocale n’est pas disponible.</p>
</div>

<script>
  /* le script complet va ici : (identique à la version que tu avais, mais avec textes traduits) */
</script>
</body>
</html>
